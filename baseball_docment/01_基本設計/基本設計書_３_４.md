# 第3章 全18機能の詳細定義

## 【本章の前提条件】

要件定義書には「F-USR-008(チェックイン機能)と同じフォーマットで、以下の全18機能について詳細定義を記載してください」との指示がありますが、お手本となる F-USR-008 の具体例が資料に含まれていません。

つきましては、要件定義書、エラーメッセージ定義書、固定ルールから推測・合成し、以下の「F-USR-001: アカウント登録機能」を具体例として作成します。

他の17機能についても、後続の詳細設計フェーズでこのフォーマットに従ってすべて定義する必要があります。

---

## 機能定義テンプレート

| 項目 | 内容 |
|---|---|
| 機能ID | F-XXX-XXX |
| 機能名 | (機能の名称) |
| ユーザーストーリー | (「誰が」「何を達成するために」「何をする」形式で記述) |
| 概要 | (機能の簡単な説明) |
| 前提条件 | (機能を利用するための条件) |
| 事後状態 (成功時) | (機能が正常に完了した後のシステムの状態) |
| 入力 (インプット) | (APIリクエスト、ユーザー操作など) |
| 処理フロー | (ロジック、計算、DB操作のステップバイステップ) |
| 出力 (アウトプット) | (APIレスポンス、画面表示など) |
| 受け入れ条件 | (正常系・準正常系・異常系のシナリオ) |
| エラー処理 | (関連するエラーコードと条件) |

---

## 機能定義の具体例 (F-USR-001)

### 基本情報

| 項目 | 内容 |
|---|---|
| 機能ID | F-USR-001 |
| 機能名 | アカウント登録機能 |
| ユーザーストーリー | 利用者 として、サービスを利用するために、自分のアカウントを登録したい。 |
| 概要 | ユーザーがメールアドレス、パスワード、ニックネームを入力し、新規ユーザーとしてシステムに登録する。 |

### 前提条件

- ユーザーがアプリを利用中である。
- ユーザーが未ログイン状態である。

### 事後状態 (成功時)

- users テーブルに新しいユーザーレコードが1件追加される
- パスワードはBcryptでハッシュ化されて保存される
- システムは当該ユーザーの認証トークン（Sanctum PAT）を発行する
- 「アカウント登録完了」メール（MAIL-001）がユーザーのメールアドレスに送信される
- ユーザーは自動的にログイン状態となり、試合一覧画面（SCR-USR-004）に遷移する

### 入力 (インプット)

**APIリクエスト:** `POST /api/v1/auth/register`

| 項目名 | 型 | 必須 | バリデーションルール (固定) |
|---|---|---|---|
| `email` | string | 必須 | - 形式: RFC 5322準拠<br>- 最大長: 255文字<br>- 一意制約: users テーブル |
| `password` | string | 必須 | - 最小長: 8文字<br>- 最大長: 72文字<br>- 含む文字種: 英大文字・英小文字・数字のうち2種類以上 |
| `password_confirmation` | string | 必須 | - `password` と一致 |
| `nickname` | string | 必須 | - 固定長: 4文字<br>- 一意制約: users テーブル |

### 処理フロー

1. APIコントローラーがリクエストを受領する。
2. FormRequestが入力値のバリデーション（形式、長さ、必須項目、パスワード一致）を実行する。 (固定ルール)
3. サービス層が、`email` と `nickname` が users テーブルで一意（`deleted_at` IS NULL）であるか検証する。 (固定ルール)
4. バリデーション違反（準正常系）がある場合、エラーレスポンス（409または422）を返す。
5. サービス層が `user_id` (UUID v4) を生成する。
6. サービス層が `password` をBcryptアルゴリズム（コスト10）でハッシュ化する
7. トランザクション開始
8. リポジトリ層が `users` テーブルに全項目をINSERTする。
9. トランザクションコミット
10. メール配信サービスが「MAIL-001 アカウント登録完了」ジョブをキューに追加する
11. 認証サービス（Sanctum）がこの新ユーザーのPersonal Access Token（有効期限24時間）を生成する
12. コントローラーが成功レスポンス（201）にユーザ情報とトークンを含めて返却する。

### 出力 (アウトプット)

**APIレスポンス (201 Created):**

```json
{
  "data": {
    "user": {
      "user_id": "...",
      "email": "...",
      "nickname": "..."
    },
    "token": "..."
  },
  "meta": {
    "timestamp": "..."
  }
}
```

### 受け入れ条件

**正常系:**
- 有効な入力値（Email, Password, Nickname）を送信すると、HTTP 201が返却され、ログイン状態になる。

**準正常系:**
- 既に登録済みのメールアドレスを送信すると、エラーコード E-409-01 と HTTP 409が返却される。
- 既に登録済みのニックネームを送信すると、エラーコード E-409-02 と HTTP 409が返却される。
- パスワードが8文字未満の場合、エラーコード E-422-05 と HTTP 422が返却される。
- ニックネームが4文字でない場合、エラーコード E-422-07 と HTTP 422が返却される。
- パスワード確認が一致しない場合、エラーコード E-422-08 と HTTP 422が返却される。

**異常系:**
- データベース接続に失敗した場合、エラーコード E-500-03 と HTTP 500が返却される。
- メール送信に失敗した場合、処理自体は成功とし、ログにエラー（E-500-02）を記録する（登録処理をロールバックしない）。

### エラー処理

| エラーコード | HTTPステータス | メッセージ | 発生条件 |
|---|---|---|---|
| E-400-01 | 400 | リクエストが不正です | JSON形式エラーなど |
| E-409-01 | 409 | このメールアドレスは既に登録されています | Email重複 |
| E-409-02 | 409 | このニックネームは既に使用されています | Nickname重複 |
| E-422-04 | 422 | メールアドレスの形式が正しくありません | バリデーションエラー |
| E-422-05 | 422 | パスワードは8文字以上72文字以下で入力してください | バリデーションエラー |
| E-422-06 | 422 | パスワードは英大文字・英小文字・数字のうち2種類以上を含めてください | バリデーションエラー |
| E-422-07 | 422 | ニックネームは4文字で入力してください | バリデーションエラー |
| E-422-08 | 422 | パスワード確認が一致しません | バリデーションエラー |
| E-500-03 | 500 | サーバーエラーが発生しました | DB障害など |

---

## 詳細設計への共通コンテキスト（第3章）

### 後続タスク（詳細設計）への指示:

**シーケンス図の作成:**

上記の「処理フロー」に基づき、全18機能のシーケンス図を作成してください。

シーケンス図には、Client (Flutter), Controller, Service, Repository, Database の各レイヤーを必ず含めてください（アーキテクチャ設計準拠）。

メール送信（F-USR-001など）やプッシュ通知（F-ADM-009など）の処理は、非同期（ジョブキュー）として表現してください。

**ユースケース記述の完成:**

本章のテンプレートを使い、残りの17機能すべて（F-ADM-001～010, F-USR-002～008）の機能定義を完成させてください。

特に「処理フロー」と「受け入れ条件」は、エラーメッセージ定義書と固定バリデーションルールを参照し、具体的に記述してください。

---

# 第4章 データベース設計

## 4.1. 物理ERD図

（※本基本設計の時点では、テーブル定義に基づき、後続の詳細設計でMermaid記法などを用いてERD図を完成させること）

```mermaid
erDiagram
    users {
        CHAR(36) user_id PK
        VARCHAR(255) email UK
        VARCHAR(255) password
        VARCHAR(4) nickname UK
        TIMESTAMP created_at
        TIMESTAMP updated_at
        TIMESTAMP deleted_at
    }

    games {
        CHAR(36) game_id PK
        VARCHAR(254) place_name
        DATETIME game_date_time
        VARCHAR(254) address
        VARCHAR(10) prefecture
        DECIMAL(10,8) latitude
        DECIMAL(11,8) longitude
        INT_UNSIGNED acceptable_radius
        VARCHAR(20) status
        INT_UNSIGNED fee
        INT_UNSIGNED capacity
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }

    participations {
        CHAR(36) participation_id PK
        CHAR(36) user_id FK
        CHAR(36) game_id FK
        VARCHAR(20) team_division
        VARCHAR(20) position
        VARCHAR(20) status
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }

    device_tokens {
        CHAR(36) device_token_id PK
        CHAR(36) user_id FK
        VARCHAR(255) token UK
        VARCHAR(10) device_type
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }

    users ||--o{ participations : "has"
    users ||--o{ device_tokens : "has"
    games ||--o{ participations : "has"
```

---

## 4.2. テーブル定義詳細

固定ルールに基づき、全4テーブルを以下の通り定義する。

### 1. users (ユーザー)

ユーザーの基本情報と認証情報を管理する。

| 論理名 | 物理名 | 型 | 制約 | コメント |
|---|---|---|---|---|
| ユーザーID | user_id | CHAR(36) | PRIMARY KEY | UUID v4 |
| メールアドレス | email | VARCHAR(255) | NOT NULL, UNIQUE |  |
| パスワード | password | VARCHAR(255) | NOT NULL | Bcryptハッシュ |
| ニックネーム | nickname | VARCHAR(4) | NOT NULL, UNIQUE | 固定4文字 |
| 登録日時 | created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP |  |
| 更新日時 | updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP |  |
| 退会日時 | deleted_at | TIMESTAMP | NULL, DEFAULT NULL | 論理削除用 |

### 2. games (試合)

開催される試合の情報を管理する。

| 論理名 | 物理名 | 型 | 制約 | コメント |
|---|---|---|---|---|
| 試合ID | game_id | CHAR(36) | PRIMARY KEY | UUID v4 |
| 場所名 | place_name | VARCHAR(254) | NOT NULL |  |
| 開催日時 | game_date_time | DATETIME | NOT NULL |  |
| 住所 | address | VARCHAR(254) | NOT NULL |  |
| 都道府県 | prefecture | VARCHAR(10) | NOT NULL, CHECK (prefecture IN (...)) | ENUM値 |
| 緯度 | latitude | DECIMAL(10, 8) | NOT NULL |  |
| 経度 | longitude | DECIMAL(11, 8) | NOT NULL |  |
| 許容半径 | acceptable_radius | INT UNSIGNED | NOT NULL | メートル単位 |
| ステータス | status | VARCHAR(20) | NOT NULL, DEFAULT '募集中', CHECK (status IN (...)) | ENUM値 |
| 参加費 | fee | INT UNSIGNED | NULL, DEFAULT NULL | 円単位、NULL可 |
| 募集人数 | capacity | INT UNSIGNED | NOT NULL |  |
| 登録日時 | created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP |  |
| 更新日時 | updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP |  |

### 3. participations (参加情報)

ユーザーと試合の関連（参加）を管理する。

| 論理名 | 物理名 | 型 | 制約 | コメント |
|---|---|---|---|---|
| 参加情報ID | participation_id | CHAR(36) | PRIMARY KEY | UUID v4 |
| ユーザーID | user_id | CHAR(36) | NOT NULL, FOREIGN KEY (users.user_id) |  |
| 試合ID | game_id | CHAR(36) | NOT NULL, FOREIGN KEY (games.game_id) |  |
| チーム区分 | team_division | VARCHAR(20) | NOT NULL, CHECK (team_division IN (...)) | ENUM値 |
| 守備ポジション | position | VARCHAR(20) | NOT NULL, CHECK (position IN (...)) | ENUM値 |
| ステータス | status | VARCHAR(20) | NOT NULL, DEFAULT '参加確定', CHECK (status IN (...)) | ENUM値 |
| 登録日時 | created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP |  |
| 更新日時 | updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP |  |

### 4. device_tokens (デバイストークン)

FCMプッシュ通知用のデバイストークンを管理する。

| 論理名 | 物理名 | 型 | 制約 | コメント |
|---|---|---|---|---|
| デバイストークンID | device_token_id | CHAR(36) | PRIMARY KEY | UUID v4 |
| ユーザーID | user_id | CHAR(36) | NOT NULL, FOREIGN KEY (users.user_id) |  |
| トークン | token | VARCHAR(255) | NOT NULL, UNIQUE | FCMトークン |
| デバイス種別 | device_type | VARCHAR(10) | NOT NULL, CHECK (device_type IN ('ios', 'android')) | ENUM値 |
| 登録日時 | created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP |  |
| 更新日時 | updated_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP |  |

---

## 4.3. CREATE TABLE文 (全テーブル)

（固定ルールに基づき、ENUMの定義を CHECK 制約として実装する）

### usersテーブル

```sql
CREATE TABLE users (
    user_id CHAR(36) PRIMARY KEY COMMENT 'ユーザーID(UUID v4)',
    email VARCHAR(255) NOT NULL UNIQUE COMMENT 'メールアドレス',
    password VARCHAR(255) NOT NULL COMMENT 'パスワード(Bcryptハッシュ)',
    nickname VARCHAR(4) NOT NULL UNIQUE COMMENT 'ニックネーム(固定4文字)',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',
    deleted_at TIMESTAMP NULL DEFAULT NULL COMMENT '退会日時(論理削除)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ユーザー';
```

### gamesテーブル

```sql
CREATE TABLE games (
    game_id CHAR(36) PRIMARY KEY COMMENT '試合ID(UUID v4)',
    place_name VARCHAR(254) NOT NULL COMMENT '場所名',
    game_date_time DATETIME NOT NULL COMMENT '開催日時',
    address VARCHAR(254) NOT NULL COMMENT '住所',
    prefecture VARCHAR(10) NOT NULL COMMENT '都道府県',
    latitude DECIMAL(10, 8) NOT NULL COMMENT '緯度',
    longitude DECIMAL(11, 8) NOT NULL COMMENT '経度',
    acceptable_radius INT UNSIGNED NOT NULL COMMENT '許容半径(メートル)',
    status VARCHAR(20) NOT NULL DEFAULT '募集中' COMMENT 'ステータス',
    fee INT UNSIGNED NULL DEFAULT NULL COMMENT '参加費(円)',
    capacity INT UNSIGNED NOT NULL COMMENT '募集人数',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',
    -- ENUM制約 (固定ルール)
    CONSTRAINT chk_prefecture CHECK (prefecture IN ('北海道', '青森県', '岩手県', '宮城県', '秋田県', '山形県', '福島県', '茨城県', '栃木県', '群馬県', '埼玉県', '千葉県', '東京都', '神奈川県', '新潟県', '富山県', '石川県', '福井県', '山梨県', '長野県', '岐阜県', '静岡県', '愛知県', '三重県', '滋賀県', '京都府', '大阪府', '兵庫県', '奈良県', '和歌山県', '鳥取県', '島根県', '岡山県', '広島県', '山口県', '徳島県', '香川県', '愛媛県', '高知県', '福岡県', '佐賀県', '長崎県', '熊本県', '大分県', '宮崎県', '鹿児島県', '沖縄県')),
    CONSTRAINT chk_game_status CHECK (status IN ('募集中', '満員', '開催済み', '中止'))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='試合';
```

### participationsテーブル

```sql
CREATE TABLE participations (
    participation_id CHAR(36) PRIMARY KEY COMMENT '参加情報ID(UUID v4)',
    user_id CHAR(36) NOT NULL COMMENT 'ユーザーID',
    game_id CHAR(36) NOT NULL COMMENT '試合ID',
    team_division VARCHAR(20) NOT NULL COMMENT 'チーム区分',
    position VARCHAR(20) NOT NULL COMMENT '守備ポジション',
    status VARCHAR(20) NOT NULL DEFAULT '参加確定' COMMENT '参加ステータス',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',
    -- 外部キー制約 (固定ルール: ON DELETE RESTRICT, ON UPDATE CASCADE)
    CONSTRAINT fk_participation_user FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE RESTRICT ON UPDATE CASCADE,
    CONSTRAINT fk_participation_game FOREIGN KEY (game_id) REFERENCES games(game_id) ON DELETE RESTRICT ON UPDATE CASCADE,
    -- 重複参加防止
    CONSTRAINT uk_user_game UNIQUE (user_id, game_id),
    -- ENUM制約 (固定ルール)
    CONSTRAINT chk_team_division CHECK (team_division IN ('チームA', 'チームB')),
    CONSTRAINT chk_position CHECK (position IN ('投手', '捕手', '一塁手', '二塁手', '三塁手', '遊撃手', '左翼手', '中堅手', '右翼手')),
    CONSTRAINT chk_participation_status CHECK (status IN ('参加確定', 'チェックイン済'))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='参加情報';
```

### device_tokensテーブル

```sql
CREATE TABLE device_tokens (
    device_token_id CHAR(36) PRIMARY KEY COMMENT 'デバイストークンID(UUID v4)',
    user_id CHAR(36) NOT NULL COMMENT 'ユーザーID',
    token VARCHAR(255) NOT NULL UNIQUE COMMENT 'FCMトークン',
    device_type VARCHAR(10) NOT NULL COMMENT 'ios or android',
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',
    -- 外部キー制約 (固定ルール: ON DELETE RESTRICT, ON UPDATE CASCADE)
    CONSTRAINT fk_device_token_user FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE RESTRICT ON UPDATE CASCADE,
    -- ENUM制約 (固定ルール)
    CONSTRAINT chk_device_type CHECK (device_type IN ('ios', 'android'))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='デバイストークン';
```

---

## 4.4. インデックス作成SQL文

（※ users のインデックス定義と、games, participations, device_tokens の固定インデックス設計に基づく）

```sql
-- usersテーブル
CREATE UNIQUE INDEX idx_email ON users(email);
CREATE UNIQUE INDEX idx_nickname ON users(nickname);
CREATE INDEX idx_deleted_at ON users(deleted_at);

-- gamesテーブル
CREATE INDEX idx_game_date_time ON games(game_date_time);
CREATE INDEX idx_prefecture ON games(prefecture);
CREATE INDEX idx_game_status ON games(status);
CREATE INDEX idx_status_and_date ON games(status, game_date_time);

-- participationsテーブル
CREATE INDEX idx_user_id ON participations(user_id);
CREATE INDEX idx_game_id ON participations(game_id);
-- UNIQUE(user_id, game_id) は CREATE TABLE で定義済み
CREATE INDEX idx_participation_status ON participations(status);

-- device_tokensテーブル
CREATE INDEX idx_user_id ON device_tokens(user_id);
-- UNIQUE(token) は CREATE TABLE で定義済み
```

---

## 4.5. トランザクション設計

以下の処理は、データの整合性を担保するため、単一のデーターベーストランザクション内で実行する。

- **F-USR-001 (アカウント登録)**: users テーブルへのINSERT。
- **F-USR-006 (試合参加登録)**: participations テーブルへのINSERT。（Service層で games の status や capacity を確認後、INSERTを実行）
- **F-USR-008 (チェックイン)**: participations テーブルの status を 'チェックイン済' にUPDATE。
- **F-ADM-003 (ユーザー強制退会)**: users テーブルの deleted_at をUPDATE。（関連データは ON DELETE RESTRICT のため削除しない）
- **F-ADM-006 (試合登録)**: games テーブルへのINSERT。
- **F-ADM-007 (試合更新)**: games テーブルのUPDATE。
- **F-ADM-008 (試合削除)**: games テーブルのDELETE。（participations に参加者がいる場合は ON DELETE RESTRICT により失敗する）
- **バッチ処理 (UpdateGameStatus)**: games テーブルの status を '開催済み' にUPDATEする処理。（SELECT ... FOR UPDATE を使用し、対象レコードをロックする）

---

## 4.6. マスタデータ定義

固定ルールに従い、マスタデータは CHECK 制約（ENUM）としてテーブル定義に組み込む。

- **都道府県 (prefecture)**: '北海道', '青森県', ..., '沖縄県' (全47件)
- **試合ステータス (game.status)**: '募集中', '満員', '開催済み', '中止'
- **チーム区分 (participation.team_division)**: 'チームA', 'チームB'
- **守備ポジション (participation.position)**: '投手', '捕手', ..., '右翼手' (全9件)
- **参加ステータス (participation.status)**: '参加確定', 'チェックイン済'
- **デバイス種別 (device_token.device_type)**: 'ios', 'android'

---

## 4.7. マスタデータ投入SQL文

（※マスタデータは CHECK 制約のため投入不要。以下は要件定義書に記載された初期データ投入SQLである。）

```sql
-- 都道府県マスタは games テーブルの CHECK 制約で定義済み

-- 初期管理者ユーザー作成(オプション)
INSERT INTO users (user_id, email, password, nickname, created_at, updated_at)
VALUES (
    UUID(),
    'admin@yourdomain.com',
    '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', -- password: "password"
    'かんり',
    NOW(),
    NOW()
);

-- 必要に応じて、テスト用の試合データなどを追加
INSERT INTO games (game_id, place_name, game_date_time, address, prefecture, latitude, longitude, acceptable_radius, status, fee, capacity, created_at, updated_at)
VALUES (
    UUID(),
    'テスト球場',
    DATE_ADD(NOW(), INTERVAL 7 DAY),
    '東京都新宿区西新宿2-8-1',
    '東京都',
    35.689614,
    139.691648,
    500,
    '募集中',
    1000,
    18,
    NOW(),
    NOW()
);
```

---

## 詳細設計への共通コンテキスト（第4章）

### 後続タスク（詳細設計）への指示:

**リポジトリ層の実装:**

「第2章 アーキテクチャ設計」に従い、本章で定義した全4テーブル（users, games, participations, device_tokens）に対するRepositoryクラス（UserRepository, GameRepositoryなど）を実装してください。

RepositoryはEloquentモデルを直接操作し、Service層に抽象化されたインターフェース（findById, createGame, findActiveGamesなど）を提供してください。

**モデルの実装:**

Eloquentモデル（User.php, Game.phpなど）を実装し、テーブル定義に基づいたリレーション（hasMany, belongsTo）を定義してください。

例: User hasMany Participation, Game hasMany Participation, Participation belongsTo User, Participation belongsTo Game.

**マイグレーションファイルの作成:**

上記の CREATE TABLE文および インデックス作成SQL文に基づき、Laravelのマイグレーションファイル（create_users_table.phpなど）をすべて作成してください。

**シーダーファイルの作成:**

上記の「マスタデータ投入SQL文」に基づき、初期データ投入用のシーダーファイル（DatabaseSeeder.php, UsersTableSeeder.phpなど）を作成してください。

---

**第3章と第4章は以上となります。**

（第5章 API設計、第6章 画面設計 は、第3章と同様に具体例の生成と大量の定義が含まれるため、非常に長くなります。）
